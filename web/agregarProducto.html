<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>

<head>
    <title>Agregar Productos</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="Adminux/css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="Adminux/css/dataTables.bootstrap4.css" rel="stylesheet" type="text/css" />
    <link href="Adminux/css/responsive.dataTables.min.css" rel="stylesheet" type="text/css" />
    <link href="Adminux/css/light_adminux.css" rel="stylesheet" type="text/css" />
    <link href="Adminux/css/theme.css" rel="stylesheet" type="text/css" />

    <!-- JS ADMINUX -->
    <script src="Adminux/js/jquery-2.1.1.min.js" type="text/javascript"></script>
    <script src="Adminux/js/popper.js" type="text/javascript"></script>
    <script src="Adminux/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="Adminux/js/circle-progress.min.js" type="text/javascript"></script>
    <script src="Adminux/js/adminux.js" type="text/javascript"></script>
    <script src="Adminux/js/jquery.dataTables.min.js" type="text/javascript"></script>
    <script src="Adminux/js/jquery.sparkline.min.js" type="text/javascript"></script>
    <script src="Adminux/js/dataTables.bootstrap4.js" type="text/javascript"></script>
    <script src="Adminux/js/dataTables.responsive.min.js" type="text/javascript"></script>

</head>

<body class="menuclose-right">

        <header class="navbar-fixed">    
            </header>
            <div class="sidebar-left" id="barraNavegacion">    
            </div>





<div class="wrapper-content">
  <div class="container">
    <div class="row  align-items-center justify-content-between">      
    </div>        
        <div class="row">
      <div class="col-md-16">
        <div class="card product ">
          <div class="card-body">
            <div class="row">
              <div class="col-md-16 col-sm-16 col-lg-8 col-xl-8">                
                    <img src="Fotos Gestion Farmacia/Ibu600.jpg" alt="">                                 
              </div>
              <div class="col-md-16 col-sm-16 col-lg-8 col-xl-8">
                  <form>
                      <div class="form-group">
                      <label for="nombreproducto">Nombre Producto</label>
                <input type="text" class="form-control" id="nombreproducto" placeholder="Ibuprofeno 600">
                      </div>
                      <div class="form-group">
                      <label for="precioproducto">Precio</label>
                <input type="number" class="form-control" id="precio">
                      </div>
                      <div class="form-group">                      
                          <select class="form-control col-8" id="area">
                  <option value="">Seleccione Area</option>
                  <option value="1">Option 1</option>                  
                  <option value="2">Option 2</option>                  
                </select>
                      </div>
                      <div class="form-group">                      
                <select class="form-control col-8" id="via">
                  <option value="">Seleccione Via</option>  
                    <option value="1">Option 1</option>                  
                  <option value="2">Option 2</option>   
                </select>
                      </div>
                      <div class="form-group">                      
                <select class="form-control col-8" id="tipo">
                  <option value="">Seleccione Tipo</option>  
                    <option value="1">Option 1</option>                  
                  <option value="2">Option 2</option>   
                </select>
                      </div>
                      <div class="form-group">                      
                <select class="form-control col-8" id="proveedor">
                  <option value="">Seleccione Proveedor</option>  
                    <option value="1">Option 1</option>                  
                  <option value="2">Option 2</option>   
                </select>
                      </div>
                      <div class=" form-check">
                          <label class="form-check-label">
                    <input type="checkbox" class="form-check-input" name="cbxTest" id="esVentaLibre" value="Es venta libre">
                  <i class="fa fa-check"></i></label>
                Es venta libre
                      </div>
                  </form><br>
                  <button type="submit" class="btn btn-outline-info btn-lg" onclick="getData()">Crear Producto</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
      

        <script src="js/Header/header.js" type="text/javascript"></script>
   
<script>
 
 var getData = function(){
 
 var nombreproducto = document.getElementById("nombreproducto").value;
 var precio = document.getElementById("precio").value;
 var area = document.getElementById("area").value;
 var via = document.getElementById("via").value;
 var tipo = document.getElementById("tipo").value;
 var proveedor = document.getElementById("proveedor").value; 
 let esVentaLibre = document.querySelector('#esVentaLibre').checked;
 
 let producto = {
     nombre : nombreproducto,
     precio: precio,
     area: area,
     via: via,
     tipo: tipo,
     proveedor: proveedor,
     ventaLibre: esVentaLibre
 };
    //fetch producto
    
         fetch('./PagarProductos',{
                    method: "post",
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },  
              body: JSON.stringify({
                  producto: producto
            })
                })
        .then(
            function(response) {
                if (response.status !== 200) {
                    console.log('Looks like there was a problem. Status Code: ' +
                        response.status);
                    return;
                }                
                response.json().then(function(data) {                        
                    if(data.success){
                        alert("Se realizo la venta correctamente");
                    }else
                        alert("No se pudo realizar la venta");                        
                }                   
        )
        .catch(function(err) {
            console.log('Fetch Error :-S', err);
        });     
    });      
    
 };

 
</script>
</body>

</html>